# 
Home_Work_27_7
Изменения по сравнению с версией Home_Work_20_11:
- при подключении клиента обработка запускается в отдельном потоке
 (то есть чат стал многопоточным)
- добавлен класс Logger с требуемыми методами и взаимными
 исключениями выполнения (mutex).
При запуске серверной части в текущей папке создаётся файл
 log.txt , в который добавляются сообщения от клиентов
  по мере их поступления.
Считывается одно первое сообщение и выводится в консоль сервера.
(не совсем понятна формулировка задания, для чего одно сообщение,
поэтому сделал таким образом).
Основная сложность была - сделать чат многопоточным,
поэтому ушло достаточно много времени. Сдаю "как есть".


Home_Work_25_7
Изменения по сравнению с версией Home_Work_20_11:
- создаёт базу данных MySQl
- подготавливает запросы
- работает через подготовленные запросы с базой данных
- можно написать сообщение пользователю,
	прочитать непрочитанные сообщения.

Класс Chat с контейнерами сообщений стал практически не нужен,
так как функции выполняются через базу данных.

Пришло время сдавать проект, поэтому не довожу его до
"перфектного" состояния и не проверяю детально.

Подключение к базе можно настроить в файлах:
DB_Queries_MYSQL_Config.h и Chats.cpp.
В файле Chats.cpp строка 7 - задать пароль для
подключения к базе данных.
Строка 14 - задать имя базы данных.

Во время выполнения этого ДЗ столкнулся с трудно обнаружимой ошибкой.
При выполнении одного из запросов появлялось сообщение
"Segmentation fault. Core dumped" - и всё. Программа завершалась.
Это происходило в момент привязки результатов запроса.
Вобщем - то работает то не работает. И никакие
Throw Exeption абсолютно ничего не дали (вообще
начинаю сомневаться в их удобности и полезности.
Скорее "использовать исключения в исключительных случаях" :))). 

В общем сильно мешала скудная и не везде точная документация
к API MySQL. В частности указан ошибочный тип  данных для 
привязке к структуре Bind при запросе типа INT из
базы данных. На самом деле он должен быть long на стороне клиента.

Потрачена уйма времени на разборки с глюками API MySQL,
но как-то это побеждено (надеюсь).
В то же время наработан опыт и "набита рука".


Home_Work_20_11
Чат, клиент - сервер под Linux, сделанный на базе предыдущих заданий.
Чат значительно переработан, по сравнению с предыдущим заданием.
Работает по TCP в пределах хоста.
Более-менее стабильная версия.
Сохранение в файлы/восстановление из файлов временно отключены,
что-бы не усложнять. Локальная реализация тоже отключена.
Возможно лучше вообще удалить локальную реализацию,
и выполнить всё единообразно и при локальной работе и при работе от сети.
В следующих заданиях будет ясно как лучше всё реализовать.
Замеченные недостатки:
- неудобное меню.
- громоздкая реализация.

Home_Work_18_12
Save/read class members to/from file


Ограничения:
- обмен сообщениями не превышающими 1024 байт


Работающий чат. При выходе из программы сохраняются, 
а при загрузке программмы восстанавливаются: 
- экземпляры зарегистрированных пользователей класса User
- экземпляры существующих чатов класса Chat вместе с сообщениями - то есть экземплярами класса Message.
Данные пользователей сохраняются в один файл Users - по одной строке на пользователя.
Сообщения существующих чатов сохраняются в индивидуальный файл имеющий имя чата и помещаются в папку Chats. 
Каждое сообщение занимает три строки текста (по одной на имя, дату, текст сообщения).
Данные сохраняются в папку /Chat_Yevgeniy , которая создаётся в папке /tmp

Есть ряд недоработок, в том числе:
- не все строки передаются с использованием ссылок,
- необходимо дать функциональные названия методам (а по сути просто функциям) 
    класса Chats,
- можно убрать массив указателей на чаты Chat из класса User,
    так как оказалось, что практическая полезность не велика, а такая конструкция
    доставляет ряд неудобств.
- использование дружественных функций класса может создать уязвимости для данных.


При выполнении данного домашнего задания удалось:
 - познакомится с классами filesystem, fstream,
 - освоиться с использованием ОС Ubuntu Linux,
 - начать использовать Visual Studio Code,
 - поэксперементировать с коммитами,
 - сделать класс с функциями, дружественными другим классам.

В общем среда для выполнения данного ДЗ была поначалу совершенно незнакомая и достаточно враждебная. Пришлось в срочном порядке осваиваться.

В связи с тем, что архитектура программы специфична - пришлось немного отступить от формулировок задания.

